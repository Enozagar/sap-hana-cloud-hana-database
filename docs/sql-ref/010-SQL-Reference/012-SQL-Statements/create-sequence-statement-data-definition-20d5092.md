<!-- loio20d509277519101489029c064d468c5d -->

# CREATE SEQUENCE Statement \(Data Definition\)

Creates a sequence that generates primary key values that are unique across multiple tables, and for generating default values for a table.



<a name="loio20d509277519101489029c064d468c5d__sql_create_sequence_1sql_create_sequence_syntax"/>

## Syntax

```
CREATE SEQUENCE <sequence_name> [ <sequence_parameter_list> ]
   [ RESET BY <subquery> ]
```



<a name="loio20d509277519101489029c064d468c5d__sql_create_sequence_1sql_create_sequence_syntax_elements"/>

## Syntax Elements


<dl>
<dt><b>

*<sequence\_name\>*

</b></dt>
<dd>

Specifies the name of the sequence to be created, with optional schema name.

```
<sequence_name> ::= [ <schema_name>.]<identifier>
```



</dd><dt><b>

*<sequence\_parameter\_list\>*

</b></dt>
<dd>

Defines one or more sequence parameters.

```
<sequence_parameter_list> ::= 
<sequence_parameter> [,<sequence_parameter > [,…] ]
```


<dl>
<dt><b>

*<sequence\_parameter\>*

</b></dt>
<dd>

Specifies the sequence parameters.

```
<sequence_parameter> ::= 
 START WITH <start_value>
 | INCREMENT BY <increment_value>
 | MAXVALUE <max_value>
 | NO MAXVALUE
 | MINVALUE <min_value>
 | NO MINVALUE
 | CYCLE
 | NO CYCLE
 | CACHE <cache_size>
 | NO CACHE
```



</dd><dt><b>

START WITH *<start\_value\>*

</b></dt>
<dd>

Specifies the starting sequence value. This can be any value from -9999999999999999999999999999 to 9999999999999999999999999999 \(28 digits\) if MINVALUE and/or MAXVALUE is extended. Otherwise, the START WITH value must be within the default MINVALUE and MAXVALUE range, which is -2^63 to 2^63-1.

```
START WITH <start_value>

<start_value> ::= <signed_integer>
```

If you do not specify a value for the START WITH clause, then MINVALUE is used for ascending sequences and MAXVALUE is used for descending sequences.



</dd><dt><b>

INCREMENT BY *<increment\_value\>*

</b></dt>
<dd>

Specifies the amount that the next sequence value is incremented from the last value assigned.

```
INCREMENT BY <increment_value>

<increment_value> ::= <signed_integer>
```

*<increment\_value\>* must be an integer between -9999999999999999999999999999 to 9999999999999999999999999999 \(28 digits\) if MINVALUE and/or MAXVALUE is extended. Otherwise, the INCREMENT BY value must be between the default MINVALUE and MAXVALUE range, which is -2^63 to 2^63-1. The default is 1.

Specify a negative value to generate a descending sequence.

An error is returned if the INCREMENT BY value is 0.



</dd><dt><b>

MAXVALUE *<max\_value\>*

</b></dt>
<dd>

Specifies the maximum value that can be generated by the sequence.

```
MAXVALUE <max_value>

<max_value> ::= <signed_integer>
```

*<max\_value\>* must be a value between -9999999999999999999999999999 and 9999999999999999999999999999 \(28 digits\). If MAXVALUE is not specified the default MAXVALUE is set as described in the NO MAXVALUE directive.



</dd><dt><b>

NO MAXVALUE

</b></dt>
<dd>

When the NO MAXVALUE directive is used, the maximum value for an ascending sequence is 2^63-1 and the maximum value for a descending sequence is -1.



</dd><dt><b>

MINVALUE *<min\_value\>*

</b></dt>
<dd>

Specifies the minimum value that a sequence can generate.

```
MINVALUE <min_value>

<min_value> ::= <signed_integer>
```

*<min\_value\>* must be a value between -9999999999999999999999999999 and 9999999999999999999999999999 \(28 Digits\). If MINVALUE is not specified the default MINVALUE is set as described in the NO MINVALUE directive.



</dd><dt><b>

NO MINVALUE

</b></dt>
<dd>

When the NO MINVALUE directive is used, the minimum value for an ascending sequence is 1 and the minimum value for a descending sequence is -2^63.



</dd><dt><b>

CYCLE

</b></dt>
<dd>

When the CYCLE directive is used, the sequence number restarts after it reaches its maximum or minimum value.



</dd><dt><b>

NO CYCLE

</b></dt>
<dd>

Specifies the default option. When the NO CYCLE directive is used, the sequence number does not restart after it reaches its maximum or minimum value.



</dd><dt><b>

CACHE *<cache\_size\>*

</b></dt>
<dd>

Specifies the cache size for caching sequence numbers in a node.

```
CACHE <cache_size>

<cache_size> ::= <unsigned_integer>
```

*<cache\_size\>* must be an unsigned integer and cannot exceed 2^31-1.



</dd><dt><b>

NO CACHE

</b></dt>
<dd>

Specifies to not cache sequence numbers in a node. This is the default behavior.



</dd>
</dl>



</dd><dt><b>

RESET BY *<subquery\>*

</b></dt>
<dd>

During the restart of the database, the database automatically executes the *<subquery\>* and the sequence value is restarted with the returned value.

If RESET BY is not specified, then the sequence value is stored persistently in database. During the restart of the database, the next value of the sequence is generated from the saved sequence value.

For more information on subqueries, see the SELECT statement.



</dd>
</dl>



<a name="loio20d509277519101489029c064d468c5d__sql_create_sequence_1sql_create_sequence_description"/>

## Description

A sequence generates unique integers for use by multiple users. Sequence values are stored as DECIMAL.

Sequences do not support rollbacks. If a transaction is rolled back, the value of the sequence stays at the latest evaluated value. This is also the behavior for exceptions during fetching.

If MAXVALUE \> 2^63-1\(INT64\_MAX\) or MINVALUE < -2^63\(INT64\_MAX\), then the return type of NEXTVAL or CURRVAL is DECIMAL type; otherwise, the return type is BIGINT. You can check the current value of a sequence by querying the M\_SEQUENCES system view.

In the case of an ascending sequence \(*<increment\_value\>* \> 0\), the default MAXVALUE is 2^63-1, and the default MINVALUE is 1.

In the case of a descending sequence \(*<increment\_value\>* < 0\), the default MAXVALUE is -1 and the default MINVALUE is -2^63.

Use CURRVAL \(for example <code>SELECT <i class="varname">&lt;sequence_name&gt;</i>.CURRVAL FROM ...</code>\) to get the current value of the sequence and NEXTVAL to get the next value of the sequence. CURRVAL is only valid after calling NEXTVAL in a session.

You can use CURRVAL and NEXTVAL only in:

-   The select list of a SELECT statement which is not contained in a subquery, or view

-   The select list of a subquery in an INSERT statement

-   The VALUES clause of an INSERT statement

-   The SET clause of an UPDATE statement


You cannot use CURRVAL and NEXTVAL in:

-   The WHERE clause of a SELECT statement

-   A subquery in a DELETE, SELECT, UPDATE, REPLACE or UPSERT statement

-   A SELECT statement in a CREATE VIEW statement

-   A SELECT statement with the DISTINCT operator

-   A SELECT statement with a GROUP BY clause

-   A SELECT statement with the UNION, INTERSECT, or MINUS set operator

-   The DEFAULT value of a column in a CREATE TABLE or ALTER TABLE statement

-   An Active/Active \(read enabled\) secondary system




<a name="loio20d509277519101489029c064d468c5d__section_kmh_kwq_xrb"/>

## Permissions

You must have the CREATE ANY privilege on the schema in which the sequence is created.



<a name="loio20d509277519101489029c064d468c5d__sql_create_sequence_1sql_create_sequence_examples"/>

## Example

The following example creates a sequence, `mySequence`, starting it at 1000, and then queries the NEXTVAL value for the sequence. Note that after you create a sequence, you cannot query the value of CURRVAL until the value is populated by querying the NEXTVAL value.

```
CREATE SEQUENCE mySequence START WITH 1000 INCREMENT BY 1;
SELECT mySequence.NEXTVAL FROM DUMMY;
```


<table>
<tr>
<th valign="top">

MYSEQUENCE.NEXTVAL

</th>
</tr>
<tr>
<td valign="top">

1,000

</td>
</tr>
</table>

Execute the following statement to get the value of CURRVAL:

```
SELECT mySequence.CURRVAL FROM DUMMY;
```


<table>
<tr>
<th valign="top">

MYSEQUENCE.CURRVAL

</th>
</tr>
<tr>
<td valign="top">

1,000

</td>
</tr>
</table>

Now create a table, `myTable` with a column definition that references `mySequence.NEXTVAL`, and then query the contents of the table:

```
CREATE ROW TABLE myTable (a INT); 
INSERT INTO myTable VALUES (mySequence.NEXTVAL); 
SELECT * FROM myTable;
```


<table>
<tr>
<th valign="top">

A

</th>
</tr>
<tr>
<td valign="top">

1,001

</td>
</tr>
</table>

Now insert another row into `myTable` and query the contents of the table again:

```
INSERT INTO myTable VALUES (mySequence.NEXTVAL);
SELECT * FROM myTable;
```


<table>
<tr>
<th valign="top">

A

</th>
</tr>
<tr>
<td valign="top">

1,001

</td>
</tr>
<tr>
<td valign="top">

1,002

</td>
</tr>
</table>

The following example returns an error for the last statement because the sequence has been exhausted due to the default MAXVALUE. This error can be avoided by declaring a higher MAXVALUE when creating the sequence, as shown in the second CREATE SEQUENCE statement example .

```
CREATE SEQUENCE s1 START WITH 9223372036854775806;
SELECT s1.nextval FROM dummy; → the value 9223372036854775806 is returned
SELECT s1.nextval FROM dummy; → the value 9223372036854775807 is returned
SELECT s1.nextval FROM dummy; → an error is returned because the sequence is exhausted

```

```
DROP SEQUENCE S1;
CREATE SEQUENCE s1 START WITH 9223372036854775806 MAXVALUE 9999999999999999999999999999; 
SELECT s1.nextval FROM dummy; → the value 9223372036854775806 is returned 
SELECT s1.nextval FROM dummy; → the value 9223372036854775807 is returned 
SELECT s1.nextval FROM dummy; → the value 9223372036854775808 is returned 
```

**Related Information**  


[SEQUENCES System View](../../020-System-Views-Reference/021-System-Views/sequences-system-view-20cf0e7.md "Provides information about available sequences.")

[M\_SEQUENCES System View](../../020-System-Views-Reference/022-Monitoring-Views/m-sequences-system-view-20be95c.md "Provides statistics for sequence caches.")

[ALTER SEQUENCE Statement \(Data Definition\)](alter-sequence-statement-data-definition-20d06b0.md "Alters an existing sequence.")

[SELECT Statement \(Data Manipulation\)](select-statement-data-manipulation-20fcf24.md "Queries data from the database.")

